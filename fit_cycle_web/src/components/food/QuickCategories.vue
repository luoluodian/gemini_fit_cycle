<template>
  <view class="glass-card rounded-lg p-4 mb-6 shadow-lg">
    <text class="text-lg font-semibold text-gray-800 mb-3 block">å¿«é€Ÿåˆ†ç±»</text>
    <view class="grid grid-cols-4 gap-3">
      <view
        v-for="category in categories"
        :key="category.key"
        class="category-tab flex flex-col items-center p-3 bg-gray-100 rounded-lg text-gray-600 hover:bg-emerald-100 hover:text-emerald-700"
        :class="{ active: selectedCategory === category.key }"
        @click="handleCategoryClick(category.key)"
      >
        <text class="text-2xl mb-1 block">{{ category.emoji }}</text>
        <text class="text-xs block">{{ category.name }}</text>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
const props = defineProps<{
  selectedCategory?: string;
}>();

const emit = defineEmits<{
  categoryChange: [category: string];
}>();

const categories = [
  { key: "protein", name: "è›‹ç™½è´¨", emoji: "ðŸ¥©" },
  { key: "vegetables", name: "è”¬èœ", emoji: "ðŸ¥¬" },
  { key: "fruits", name: "æ°´æžœ", emoji: "ðŸŽ" },
  { key: "grains", name: "è°·ç‰©", emoji: "ðŸŒ¾" },
  { key: "dairy", name: "ä¹³åˆ¶å“", emoji: "ðŸ¥›" },
  { key: "nuts", name: "åšæžœ", emoji: "ðŸ¥œ" },
  { key: "oils", name: "æ²¹è„‚", emoji: "ðŸ«’" },
  { key: "snacks", name: "é›¶é£Ÿ", emoji: "ðŸ¿" },
];

const handleCategoryClick = (category: string) => {
  emit("categoryChange", category);
};
</script>

<style scoped>
.glass-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.category-tab {
  transition: all 0.3s ease;
}

.category-tab.active {
  background: #10b981;
  color: white;
}
</style>

