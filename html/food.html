<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£Ÿæåº“</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&family=Noto+Serif+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%); }
        .glass-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .food-card { transition: all 0.3s ease; }
        .food-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
        .nav-tab { transition: all 0.3s ease; }
        .nav-tab.active { background: #10b981; color: white; }
        .category-tab { transition: all 0.3s ease; }
        .category-tab.active { background: #10b981; color: white; }
        .search-input { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <div class="bg-white shadow-sm">
        <div class="px-4 py-4">
            <div class="flex items-center justify-between">
                <h1 class="text-lg font-semibold text-gray-800">é£Ÿæåº“</h1>
                <div class="flex items-center space-x-2">
                    <button onclick="toggleSearch()" class="p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                    <button onclick="createCustomFood()" class="px-3 py-2 bg-emerald-500 text-white rounded-lg text-sm font-medium hover:bg-emerald-600 transition-colors">æ–°å»º</button>
                </div>
            </div>
            <div id="searchBar" class="mt-3 hidden">
                <div class="relative">
                    <input type="text" id="foodSearch" placeholder="æœç´¢é£Ÿæåç§°..." class="search-input w-full px-4 py-2 pl-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm">
                    <svg class="w-4 h-4 text-gray-400 absolute left-3 top-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="px-4 py-4 pb-20">
        <!-- åˆ†ç±»æ ‡ç­¾æ  -->
        <div class="flex space-x-1.5 overflow-x-auto pb-3 mb-4 -mx-4 px-4 scrollbar-hide">
            <button class="category-tab active flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-emerald-500 text-white" onclick="filterByCategory('all')">
                <span>ğŸ“Š</span><span>å…¨éƒ¨</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('favorites')">
                <span>â¤ï¸</span><span>æˆ‘çš„æ”¶è—</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('my-created')">
                <span>ğŸ“</span><span>æˆ‘çš„åˆ›å»º</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('system')">
                <span>ğŸª</span><span>ç³»ç»Ÿé£Ÿæ</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('protein')">
                <span>ğŸ¥©</span><span>è›‹ç™½è´¨</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('vegetables')">
                <span>ğŸ¥¬</span><span>è”¬èœ</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('fruits')">
                <span>ğŸ</span><span>æ°´æœ</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('grains')">
                <span>ğŸŒ¾</span><span>è°·ç‰©</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('dairy')">
                <span>ğŸ¥›</span><span>ä¹³åˆ¶å“</span>
            </button>
            <button class="category-tab flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap bg-gray-100 text-gray-600 hover:bg-gray-200" onclick="filterByCategory('nuts')">
                <span>ğŸ¥œ</span><span>åšæœ</span>
            </button>
        </div>

        <!-- çƒ­é—¨é£Ÿæ -->
        <div class="glass-card rounded-2xl p-4 mb-6 shadow-lg">
            <div class="flex items-center justify-between mb-3">
                <h4 class="text-sm font-medium text-gray-700">çƒ­é—¨é£Ÿæ</h4>
                <span class="text-xs text-gray-400">æ»‘åŠ¨æŸ¥çœ‹æ›´å¤š</span>
            </div>
            <div class="flex space-x-2 overflow-x-auto pb-2 scrollbar-hide" id="popularFoods">
                <div class="food-card flex-shrink-0 bg-white rounded-xl p-3 border border-gray-100 min-w-[100px] text-center shadow-sm cursor-pointer" onclick="viewFoodDetail('banana')">
                    <div class="text-2xl mb-1">ğŸŒ</div>
                    <div class="text-xs font-medium text-gray-800 truncate">é¦™è•‰</div>
                    <div class="text-xs text-gray-400">80 kcal</div>
                </div>
                <div class="food-card flex-shrink-0 bg-white rounded-xl p-3 border border-gray-100 min-w-[100px] text-center shadow-sm cursor-pointer" onclick="viewFoodDetail('egg')">
                    <div class="text-2xl mb-1">ğŸ¥š</div>
                    <div class="text-xs font-medium text-gray-800 truncate">é¸¡è›‹</div>
                    <div class="text-xs text-gray-400">78 kcal</div>
                </div>
                <div class="food-card flex-shrink-0 bg-white rounded-xl p-3 border border-gray-100 min-w-[100px] text-center shadow-sm cursor-pointer" onclick="viewFoodDetail('milk')">
                    <div class="text-2xl mb-1">ğŸ¥›</div>
                    <div class="text-xs font-medium text-gray-800 truncate">ç‰›å¥¶</div>
                    <div class="text-xs text-gray-400">120 kcal</div>
                </div>
                <div class="food-card flex-shrink-0 bg-white rounded-xl p-3 border border-gray-100 min-w-[100px] text-center shadow-sm cursor-pointer" onclick="viewFoodDetail('bread')">
                    <div class="text-2xl mb-1">ğŸ</div>
                    <div class="text-xs font-medium text-gray-800 truncate">å…¨éº¦é¢åŒ…</div>
                    <div class="text-xs text-gray-400">120 kcal</div>
                </div>
                <div class="food-card flex-shrink-0 bg-white rounded-xl p-3 border border-gray-100 min-w-[100px] text-center shadow-sm cursor-pointer" onclick="viewFoodDetail('chicken-breast')">
                    <div class="text-2xl mb-1">ğŸ—</div>
                    <div class="text-xs font-medium text-gray-800 truncate">é¸¡èƒ¸è‚‰</div>
                    <div class="text-xs text-gray-400">165 kcal</div>
                </div>
            </div>
        </div>

        <!-- Food List -->
        <div>
            <div class="flex items-center justify-between mb-3">
                <h3 class="text-sm font-medium text-gray-700">å…¨éƒ¨é£Ÿæ</h3>
                <div class="text-xs text-gray-400" id="foodCount">å…± 20 ç§</div>
            </div>
            
            <div class="grid grid-cols-1 gap-2" id="foodList">
                <!-- Protein Foods -->
                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('chicken-breast')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸ¥©</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">é¸¡èƒ¸è‚‰</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 31g</span>
                                <span>ğŸ”¸ è„‚è‚ª 3.6g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 0g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">165</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('salmon')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸŸ</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">ä¸‰æ–‡é±¼</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 25g</span>
                                <span>ğŸ”¸ è„‚è‚ª 12g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 0g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">208</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <!-- Vegetable Foods -->
                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('broccoli')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸ¥¬</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">è¥¿å…°èŠ±</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 2.8g</span>
                                <span>ğŸ”¸ è„‚è‚ª 0.4g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 7g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">35</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('carrot')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸ¥•</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">èƒ¡èåœ</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 0.9g</span>
                                <span>ğŸ”¸ è„‚è‚ª 0.2g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 10g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">41</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <!-- Fruit Foods -->
                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('apple')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸ</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">è‹¹æœ</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 0.3g</span>
                                <span>ğŸ”¸ è„‚è‚ª 0.2g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 14g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">52</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('banana')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-yellow-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸŒ</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">é¦™è•‰</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 1.1g</span>
                                <span>ğŸ”¸ è„‚è‚ª 0.3g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 23g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">89</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <!-- Grain Foods -->
                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('brown-rice')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-yellow-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸš</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">ç³™ç±³é¥­</h4>
                                <span class="px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded">ç³»ç»Ÿ</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 2.6g</span>
                                <span>ğŸ”¸ è„‚è‚ª 0.9g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 23g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">111</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>

                <!-- Custom Food -->
                <div class="food-card bg-white rounded-lg p-3 border border-gray-100 flex items-center justify-between" onclick="viewFoodDetail('custom-salad')">
                    <div class="flex items-center flex-1 min-w-0">
                        <div class="w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-lg">ğŸ¥—</span>
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-gray-800 text-sm truncate">è‡ªåˆ¶æ²™æ‹‰</h4>
                                <span class="px-1.5 py-0.5 bg-purple-100 text-purple-500 text-[10px] rounded">æˆ‘çš„</span>
                            </div>
                            <div class="flex items-center text-[10px] text-gray-400 mt-0.5 space-x-2">
                                <span>ğŸ”¹ è›‹ç™½ 3g</span>
                                <span>ğŸ”¸ è„‚è‚ª 2g</span>
                                <span>ğŸ”¹ ç¢³æ°´ 8g</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right ml-2">
                        <div class="text-sm font-semibold text-gray-800">65</div>
                        <div class="text-[10px] text-gray-400">kcal</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2">
        <div class="flex justify-around">
            <a href="index.html" class="nav-tab flex flex-col items-center py-2 px-3 rounded-lg text-gray-600">
                <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                </svg>
                <span class="text-xs">è®°å½•</span>
            </a>
            <a href="plan.html" class="nav-tab flex flex-col items-center py-2 px-3 rounded-lg text-gray-600">
                <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
                <span class="text-xs">è®¡åˆ’</span>
            </a>
            <a href="food.html" class="nav-tab active flex flex-col items-center py-2 px-3 rounded-lg">
                <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                </svg>
                <span class="text-xs">é£Ÿæ</span>
            </a>
            <a href="profile.html" class="nav-tab flex flex-col items-center py-2 px-3 rounded-lg text-gray-600">
                <svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                <span class="text-xs">æˆ‘çš„</span>
            </a>
        </div>
    </div>

    <!-- Food Detail Modal -->
    <div id="foodDetailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-3xl w-full max-w-sm p-5 shadow-2xl">
                <!-- é¡¶éƒ¨å·¥å…·æ  -->
                <div class="flex items-center justify-between mb-4">
                    <button onclick="closeFoodDetailModal()" class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <span id="detailFoodCategory" class="px-3 py-1 bg-emerald-100 text-emerald-600 text-xs font-medium rounded-full">è›‹ç™½è´¨</span>
                    <button onclick="toggleFavoriteFromDetail()" id="favoriteBtn" class="p-2 text-gray-300 hover:text-pink-500 hover:bg-pink-50 rounded-full transition-all">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                    </button>
                </div>
                
                <!-- å¤´éƒ¨ï¼šå›¾æ ‡ + åç§° -->
                <div class="text-center mb-5">
                    <div class="text-6xl mb-3" id="detailFoodIcon">ğŸ</div>
                    <h3 class="text-xl font-bold text-gray-800" id="detailFoodName">é£Ÿç‰©åç§°</h3>
                </div>
                
                <!-- æè¿°/å¤‡æ³¨ -->
                <div class="mb-5">
                    <p class="text-sm text-gray-500 text-center leading-relaxed" id="detailFoodDescription">é£Ÿç‰©æè¿°</p>
                </div>
                
                <!-- è¥å…»æˆåˆ†å¡ç‰‡ -->
                <div class="bg-gray-50 rounded-2xl p-4">
                    <div class="flex items-center justify-center gap-2 mb-3">
                        <span class="text-xs text-gray-400">è¥å…»æˆåˆ†</span>
                        <span class="text-xs text-gray-300">|</span>
                        <span class="text-xs text-gray-500">æ¯100g</span>
                    </div>
                    <div class="grid grid-cols-4 gap-3">
                        <div class="text-center">
                            <div class="text-xs text-gray-400 mb-1">ç¢³æ°´</div>
                            <div class="text-lg font-bold text-yellow-500" id="detailCarbs">0g</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-400 mb-1">è›‹ç™½è´¨</div>
                            <div class="text-lg font-bold text-red-500" id="detailProtein">0g</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-400 mb-1">è„‚è‚ª</div>
                            <div class="text-lg font-bold text-blue-500" id="detailFat">0g</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-400 mb-1">çƒ­é‡</div>
                            <div class="text-lg font-bold text-emerald-500" id="detailCalories">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Food Modal -->
    <div id="customFoodModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl w-full max-w-sm p-6 max-h-[90vh] overflow-y-auto">
                <div class="text-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">åˆ›å»ºè‡ªå®šä¹‰é£Ÿæ</h3>
                    <p class="text-sm text-gray-500">æ·»åŠ ä½ è‡ªå·±çš„é£Ÿæ</p>
                </div>
                <form id="customFoodForm" class="space-y-4">
                    <!-- å›¾æ ‡é€‰æ‹© -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©å›¾æ ‡</label>
                        <input type="hidden" id="selectedFoodIcon" value="ğŸ¥—">
                        <div class="grid grid-cols-8 gap-2 p-2 bg-gray-50 rounded-lg">
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥—')">ğŸ¥—</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥©')">ğŸ¥©</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ—')">ğŸ—</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸŸ')">ğŸŸ</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥š')">ğŸ¥š</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥›')">ğŸ¥›</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ§€')">ğŸ§€</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥¬')">ğŸ¥¬</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥•')">ğŸ¥•</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥¦')">ğŸ¥¦</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ…')">ğŸ…</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥’')">ğŸ¥’</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ')">ğŸ</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸŒ')">ğŸŒ</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ‡')">ğŸ‡</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸš')">ğŸš</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ')">ğŸ</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸœ')">ğŸœ</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥”')">ğŸ¥”</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸŒ½')">ğŸŒ½</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¥œ')">ğŸ¥œ</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ«˜')">ğŸ«˜</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ¯')">ğŸ¯</button>
                            <button type="button" class="icon-btn p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all text-lg" onclick="selectFoodIcon(this, 'ğŸ«')">ğŸ«</button>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">é£Ÿæåç§°</label>
                        <input type="text" id="customFoodName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent" placeholder="ä¾‹å¦‚ï¼šè‡ªåˆ¶æ²™æ‹‰">
                    </div>
                    <div class="mb-4 flex items-center">
                        <label class="text-sm font-medium text-gray-700 mr-3 whitespace-nowrap">å•ä½</label>
                        <div class="flex items-center flex-1">
                            <select id="customFoodUnit" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white">
                                <option value="g">å…‹ (g)</option>
                                <option value="ml">æ¯«å‡ (ml)</option>
                                <option value="piece">ä¸ª/ç‰‡</option>
                                <option value="cup">æ¯</option>
                                <option value="tbsp">å‹º</option>
                            </select>
                        </div>
                    </div>
                    <!-- è¥å…»æˆåˆ†è¾“å…¥ -->
                    <div class="bg-gray-50 rounded-lg p-3 mb-4">
                        <div class="text-xs text-gray-500 mb-3 text-center">æ¯100gè¥å…»æˆåˆ†</div>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-xs text-gray-500 mb-1">çƒ­é‡ (kcal)</label>
                                <input type="number" id="customFoodCalories" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm" placeholder="0">
                            </div>
                            <div>
                                <label class="block text-xs text-gray-500 mb-1">è›‹ç™½è´¨ (g)</label>
                                <input type="number" id="customFoodProtein" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm" placeholder="0">
                            </div>
                            <div>
                                <label class="block text-xs text-gray-500 mb-1">è„‚è‚ª (g)</label>
                                <input type="number" id="customFoodFat" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm" placeholder="0">
                            </div>
                            <div>
                                <label class="block text-xs text-gray-500 mb-1">ç¢³æ°´ (g)</label>
                                <input type="number" id="customFoodCarbs" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm" placeholder="0">
                            </div>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">æè¿° (å¯é€‰)</label>
                        <textarea id="customFoodDescription" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm" placeholder="ç®€å•æè¿°è¿™ä¸ªé£Ÿæ..."></textarea>
                    </div>
                    <div class="flex space-x-3">
                        <button type="button" onclick="closeCustomFoodModal()" class="flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors">å–æ¶ˆ</button>
                        <button type="submit" class="flex-1 bg-emerald-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-emerald-700 transition-colors">åˆ›å»º</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="food.js"></script>
</body>
</html>
