# [任务ID]: [任务名称] - T6 变更清单

> **任务 ID**: [任务ID]  
> **任务名称**: [任务名称]  
> **编码时间**: [YYYY-MM-DD HH:mm] ~ [YYYY-MM-DD HH:mm]  
> **实际工时**: [X]h  
> **编码人**: [AI Assistant / 开发者姓名]

---

## 6.1 新建文件清单

### 后端文件

#### Entity（实体）
- [ ] `[文件路径]`
  - **类名**: `[ClassName]`
  - **说明**: [实体说明]
  - **关键字段**: [列出关键字段]

#### DTO（数据传输对象）
- [ ] `[文件路径]`
  - **类名**: `[ClassName]`
  - **说明**: [DTO 说明]
  - **验证规则**: [列出验证规则]

#### Service（服务层）
- [ ] `[文件路径]`
  - **类名**: `[ClassName]`
  - **说明**: [服务说明]
  - **主要方法**: [列出主要方法]

#### Controller（控制器）
- [ ] `[文件路径]`
  - **类名**: `[ClassName]`
  - **说明**: [控制器说明]
  - **暴露接口**: [列出接口路径]

#### Module（模块）
- [ ] `[文件路径]`
  - **模块名**: `[ModuleName]`
  - **说明**: [模块说明]

#### 其他后端文件
- [ ] `[文件路径]`: [说明]

### 前端文件

#### 页面组件
- [ ] `[文件路径]`
  - **组件名**: `[ComponentName]`
  - **说明**: [页面说明]
  - **路由路径**: `[路由路径]`

#### 可复用组件
- [ ] `[文件路径]`
  - **组件名**: `[ComponentName]`
  - **说明**: [组件说明]
  - **Props**: [列出 Props]
  - **Events**: [列出 Events]

#### Store（状态管理）
- [ ] `[文件路径]`
  - **Store 名**: `[StoreName]`
  - **说明**: [Store 说明]
  - **State**: [列出状态]
  - **Actions**: [列出 Actions]

#### API Service
- [ ] `[文件路径]`
  - **服务名**: `[ServiceName]`
  - **说明**: [服务说明]
  - **方法列表**: [列出方法]

#### 工具函数
- [ ] `[文件路径]`
  - **说明**: [工具函数说明]
  - **导出函数**: [列出函数]

#### 样式文件
- [ ] `[文件路径]`
  - **说明**: [样式说明]
  - **主要类名**: [列出类名]

#### 其他前端文件
- [ ] `[文件路径]`: [说明]

### 配置文件
- [ ] `[文件路径]`: [说明]

### 测试文件
- [ ] `[文件路径]`: [说明]

---

## 6.2 修改文件清单

### 后端文件修改
- [ ] `[文件路径]`
  - **修改类型**: [新增方法 / 修改方法 / 删除方法 / 重构]
  - **修改内容**: [详细说明]
  - **影响范围**: [说明影响]

### 前端文件修改
- [ ] `[文件路径]`
  - **修改类型**: [新增功能 / 修改逻辑 / 样式调整 / 重构]
  - **修改内容**: [详细说明]
  - **影响范围**: [说明影响]

### 配置文件修改
- [ ] `[文件路径]`
  - **修改内容**: [详细说明]

---

## 6.3 新增依赖包

### 后端依赖
```json
{
  "[包名]": "[版本号]"
}
```
- **用途**: [说明]
- **安装命令**: `npm install [包名]@[版本号]`

### 前端依赖
```json
{
  "[包名]": "[版本号]"
}
```
- **用途**: [说明]
- **安装命令**: `npm install [包名]@[版本号]`

### 开发依赖
```json
{
  "[包名]": "[版本号]"
}
```
- **用途**: [说明]
- **安装命令**: `npm install -D [包名]@[版本号]`

---

## 6.4 环境变量变更

### 新增环境变量
```bash
# [说明]
[变量名]=[示例值]
```

### 修改环境变量
```bash
# 旧值
[变量名]=[旧值]

# 新值
[变量名]=[新值]
```

### 环境变量说明
| 变量名 | 类型 | 必需 | 默认值 | 说明 |
|--------|------|------|--------|------|
| [变量名] | [类型] | ✅/❌ | [默认值] | [说明] |

---

## 6.5 数据库变更

### 新增表
- [ ] `[表名]`
  - **说明**: [表说明]
  - **迁移文件**: `[文件路径]`

### 修改表
- [ ] `[表名]`
  - **修改类型**: [新增字段 / 修改字段 / 删除字段 / 新增索引]
  - **修改内容**: [详细说明]
  - **迁移文件**: `[文件路径]`

### 迁移命令
```bash
# 生成迁移文件
npm run migration:generate -- -n [MigrationName]

# 执行迁移
npm run migration:run

# 回滚迁移
npm run migration:revert
```

---

## 6.6 路由变更

### 后端路由
- [ ] `[HTTP Method] [路径]`
  - **Controller**: `[ControllerName].[methodName]`
  - **说明**: [接口说明]
  - **认证**: ✅ 需要 / ❌ 不需要

### 前端路由
- [ ] `[路径]`
  - **组件**: `[ComponentName]`
  - **说明**: [页面说明]
  - **守卫**: ✅ 需要登录 / ❌ 公开访问

---

## 6.7 UI 迁移记录（前端任务必填）

### HTML 原型迁移
- **源文件**: `html/[文件名].html`
- **目标文件**: `[Vue 组件路径]`

### DOM 结构迁移
- [ ] 主容器结构已迁移
- [ ] 表单元素已迁移
- [ ] 列表元素已迁移
- [ ] 模态框已迁移

### 样式迁移
- [ ] 原生 CSS → Tailwind CSS
- [ ] 颜色变量已统一
- [ ] 响应式断点已适配
- [ ] 动画效果已实现

### 交互逻辑迁移
- [ ] 点击事件已绑定
- [ ] 表单验证已实现
- [ ] 数据加载已实现
- [ ] 错误处理已实现

### 差异说明
- **保留差异**: [说明为什么与原型不同]
- **优化改进**: [说明做了哪些优化]

---

## 6.8 代码统计

### 新增代码量
- **后端**: [X] 行
- **前端**: [X] 行
- **测试**: [X] 行
- **总计**: [X] 行

### 修改代码量
- **后端**: [X] 行
- **前端**: [X] 行
- **总计**: [X] 行

### 删除代码量
- **后端**: [X] 行
- **前端**: [X] 行
- **总计**: [X] 行

---

## 6.9 编译与构建

### 编译检查
- [ ] 后端编译通过: `npm run build`
- [ ] 前端编译通过: `npm run build`
- [ ] 无 TypeScript 错误
- [ ] 无 ESLint 错误

### 本地测试
- [ ] 后端服务启动成功: `npm run start:dev`
- [ ] 前端应用启动成功: `npm run dev`
- [ ] 基本功能可用

---

## 6.10 Git 变更摘要

### 变更类型
- [ ] feat: 新功能
- [ ] fix: 修复 Bug
- [ ] refactor: 重构
- [ ] style: 样式调整
- [ ] docs: 文档更新
- [ ] test: 测试相关
- [ ] chore: 构建/工具相关

### Commit Message（预览）
```
[type]([scope]): [subject] (#[任务ID])

[详细描述]

[破坏性变更说明]
```

### 示例
```
feat(auth): 实现微信登录认证接口 (#U-1)

- 新增 AuthModule、AuthController、AuthService
- 实现 JWT 策略和守卫
- Mock 微信 API 调用逻辑
- 新增登录接口 POST /auth/wechatAuth
```

---

## 6.11 自检清单

### 代码质量
- [ ] 代码符合编码规范
- [ ] 命名清晰且语义化
- [ ] 注释完整且准确
- [ ] 无 console.log 调试代码
- [ ] 无被注释掉的死代码
- [ ] 无 TODO 标记（或已记录到任务清单）

### 功能完整性
- [ ] 所有计划功能已实现
- [ ] 边界条件已处理
- [ ] 错误处理已完善
- [ ] 数据验证已实现

### 性能考虑
- [ ] 无明显性能问题
- [ ] 数据库查询已优化
- [ ] 前端渲染已优化

### 安全考虑
- [ ] 输入验证已实现
- [ ] 敏感信息已保护
- [ ] 权限控制已实现

### UI/UX（前端任务）
- [ ] UI 还原度 ≥ 90%
- [ ] 响应式适配完成
- [ ] 交互流畅无卡顿
- [ ] 错误提示友好

---

## 6.12 已知问题与技术债

### 已知问题
- [ ] **[问题描述]**
  - 严重程度: [低/中/高]
  - 计划解决时间: [时间]

### 技术债
- [ ] **[技术债描述]**
  - 原因: [说明]
  - 影响: [说明]
  - 计划清理时间: [时间]

### 临时方案
- [ ] **[临时方案描述]**
  - 原因: [说明]
  - 最终方案: [说明]
  - 计划替换时间: [时间]

---

## 6.13 下一步行动

1. **立即执行**: 进入 T7 测试阶段
2. **等待审查**: 等待代码审查反馈
3. **需要修复**: [需要修复的问题]

---

## 附录：文件树结构

### 后端文件树
```
fit_cycle_app/src/
├── modules/
│   └── [模块名]/
│       ├── [文件名].entity.ts
│       ├── [文件名].dto.ts
│       ├── [文件名].service.ts
│       ├── [文件名].controller.ts
│       └── [文件名].module.ts
```

### 前端文件树
```
fit_cycle_web/src/
├── pages/
│   └── [页面名]/
│       └── index.vue
├── components/
│   └── [组件名]/
│       └── index.vue
├── stores/
│   └── [store名].ts
└── services/
    └── modules/
        └── [服务名].ts
```

---

**编码完成时间**: [YYYY-MM-DD HH:mm]  
**预计测试时间**: [YYYY-MM-DD HH:mm]

