# U-6: BMR 计算逻辑 - T8.5 审查意见

> **任务 ID**: U-6  
> **任务名称**: BMR 计算逻辑  
> **审查时间**: 2026-01-31  
> **审查人**: AI Assistant  
> **审查类型**: 深度逻辑审查

---

## 总体评价

### 审查结论
- [x] ✅ **Pass**: 审查通过，准许进入 T9 交付

### 评价摘要
计算逻辑严格遵循 Mifflin-St Jeor 科学公式，代码实现简洁且带有必要的类型转换，能有效防止 JS 常见的浮点数或字符串拼接陷阱。

---

## 1. 逻辑正确性审查

### 1.1 业务逻辑一致性
- [x] **公式**: 10w + 6.25h - 5a (+5/-161) 正确实现。
- [x] **TDEE**: BMR * ActivityLevel 逻辑正确。

### 1.2 边界条件处理
- [x] **空值**: 检查了 weight/height/birthday/gender 是否存在，不存在时不执行计算，避免 Crash。

---

## 12. 优秀实践

1.  **四舍五入**: 结果使用了 `Math.round()`，保证了前端展示时数值的整洁。
2.  **类型转换**: 在处理 TypeORM decimal 字段时，显式使用了 `Number()`，这是一个非常稳健的做法。

---

## 13. 下一步行动

### 13.1 立即执行
- [x] **Pass**: 进入 T9 交付阶段
