# U-4: 登录按钮组件 - T5 分析文档

## 5.1 模块关联性审计

- **涉及公共组件**:
  - `BaseButton.vue` (待创建): 通用原子按钮组件。
  - `LoginButton.vue` (待重构): 业务级按钮组组件。
- **涉及全局样式**:
  - `Tailwind CSS`: 用于基础样式。
  - `Sass`: 用于特定交互动效。

## 5.2 影响评估

- **需要新建的文件**:
  - `fit_cycle_web/src/components/common/BaseButton.vue`: 提升代码复用率。
- **需要修改的现有文件**:
  - `fit_cycle_web/src/components/login/LoginButton.vue`: 接入 `BaseButton`。
- **对现有功能的影响**: 
  - 提升按钮组件的稳定性与一致性。
  - 为后续其他页面的按钮实现提供规范。

## 5.3 技术落地计划

### 1. 核心任务定义
- **原子化封装**: 提取 `BaseButton` 组件，支持多种预设样式 (`primary`, `secondary`, `wechat`, `danger`)。
- **业务组件重构**: 将 `LoginButton.vue` 中的硬编码按钮逻辑替换为 `BaseButton` 调用。
- **交互增强**: 统一处理 `loading` 状态、点击缩放动画 (`active:scale-95`) 以及禁用状态。

### 2. 实现逻辑
1. **BaseButton 实现**:
   - 定义 Props: `type`, `loading`, `disabled`, `block`, `round`。
   - 使用 `class` 动态绑定 Tailwind 类。
   - 提供默认插槽用于文字/图标。
2. **LoginButton 重构**:
   - 使用 `<BaseButton type="wechat">` 实现微信按钮。
   - 使用 `<BaseButton type="secondary">` 实现游客按钮。
   - 保持原有的事件派发 (`login`, `guest`)。

### 3. 风险点
- **样式冲突**: 确保 `BaseButton` 的默认样式不会干扰业务组件的特殊布局。
- **点击穿透**: 确保 `loading` 状态下按钮能正确拦截点击事件。

## 5.4 验收标准 (T7 预案)
- [ ] `BaseButton` 在不同 `type` 下显示正确的背景色和文本颜色。
- [ ] `LoginButton` 视觉效果与原型完全一致。
- [ ] 点击按钮时有缩放反馈。
- [ ] 传入 `loading` 属性时，按钮显示加载状态并不可点击。
