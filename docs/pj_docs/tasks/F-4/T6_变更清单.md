# F-4: Food 表设计 - T6 变更清单

## 6.1 修改文件

- `fit_cycle_app/src/database/migrations/initial-schema.sql`:
    - 升级了 `foods` 表结构，将 `id` 类型从 `INT` 提升为 `BIGINT` 以匹配 Entity。
    - 补全了关键营养学和展示字段：`gi` (升糖指数), `image_url` (图片地址), `description` (食物描述)。
    - 添加了 `updated_at` 自动更新时间戳。
    - 同步更新了所有关联表 (`meal_records`, `plan_details`) 中的 `food_id` 类型为 `BIGINT`，确保 Foreign Key 约束一致。

## 6.2 完整性检查结果

### 【字段一致性检查】
- [x] Entity `caloriesPer100g` 与 SQL `calories_per_100g` 映射一致。
- [x] Entity `gi` 数据类型与 SQL `DECIMAL(5,2)` 一致。
- [x] Entity `image_url` 和 `description` 已在 SQL 中补全。

### 【关联完整性检查】
- [x] `meal_records` 和 `plan_details` 现在正确引用了 `foods(id)`。
- [x] 所有外键类型 (`BIGINT`) 已对齐。

### 【构建验证】
- [x] 后端 `npm run build` 通过。
