# C-3: 通用 NavBar 封装 - T6 变更清单

## 6.1 新建文件

- `fit_cycle_web/src/components/common/BaseNavBar.vue`:
    - 实现了高保真自定义导航栏。
    - 包含状态栏适配、标题对齐胶囊按钮、以及统一的返回逻辑。
    - 视觉效果：支持透明/毛玻璃切换，使用 `backdrop-blur-xl` 特效。

## 6.2 修改文件

- `fit_cycle_web/src/app.config.ts`:
    - 开启了全局 `navigationStyle: "custom"`，接管原生导航栏。
    - 修改了全局 `navigationBarTitleText` 为项目名称。
- `fit_cycle_web/src/pages/index/index.vue`:
    - 引入并使用了 `BaseNavBar`，标题设为“今日记录”。
- `fit_cycle_web/src/pages/profile/index.vue`:
    - 引入并使用了 `BaseNavBar`，标题设为“个人中心”，并开启了 `transparent` 模式以适配个人中心头部背景。

## 6.3 完整性检查结果

### 【适配性检查】
- [x] 状态栏高度是否动态获取？ (通过 `getSystemInfoSync`)
- [x] 标题是否与胶囊按钮垂直居中？ (通过 `getMenuButtonBoundingClientRect` 计算)

### 【功能检查】
- [x] 返回按钮逻辑是否支持页面栈回退？ (已实现 `handleBack`)
- [x] 首页是否能正确识别为非返回态？ (已处理 `reLaunch`)

### 【构建验证】
- [x] `npm run build:weapp` 成功。
