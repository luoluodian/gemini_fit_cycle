# C-2: 全局 TabBar 配置 - T5 分析文档

## 5.1 模块关联性审计

- **核心配置文件**: `fit_cycle_web/src/app.config.ts`
- **组件位置**: `fit_cycle_web/src/custom-tab-bar/` (Taro 约定目录)
- **关联页面**:
  - `pages/index/index` (记录)
  - `pages/plan/index` (计划)
  - `pages/food/index` (食材)
  - `pages/profile/index` (我的)
- **视觉风格**: 延续全站的 **Glassmorphism (毛玻璃)** 风格。

## 5.2 技术选型分析

- **方案**: 自定义 TabBar (Custom TabBar)。
- **理由**:
  1. **视觉要求**: 原生 TabBar 不支持 `backdrop-filter: blur` 等高级特效。
  2. **图标控制**: 支持直接在代码中使用 SVG 路径，无需管理额外的 PNG 资源。
  3. **灵活性**: 方便后续添加“发布”大按钮或动态小红点提示。

## 5.3 技术落地计划

### 1. 路由配置
在 `app.config.ts` 中开启 `tabBar` 并设置 `custom: true`。

### 2. 组件实现
- **目录**: `src/custom-tab-bar/index.vue` (必须是 index.vue)。
- **样式**:
  - 容器：`fixed bottom-0`, `bg-white/80`, `backdrop-blur-lg`。
  - 激活态：`text-emerald-500`。
- **逻辑**: 使用 `Taro.switchTab` 执行切换，通过 `useDidShow` 或全局 Store 同步选中状态。

### 3. 数据结构
```typescript
const tabs = [
  { pagePath: "/pages/index/index", text: "记录", icon: "..." },
  { pagePath: "/pages/plan/index", text: "计划", icon: "..." },
  { pagePath: "/pages/food/index", text: "食材", icon: "..." },
  { pagePath: "/pages/profile/index", text: "我的", icon: "..." }
]
```

## 5.4 验收标准 (T7 预案)
- [ ] 底部出现带毛玻璃效果的导航栏。
- [ ] 点击不同图标能正确跳转至对应页面。
- [ ] 当前所在页面的图标和文字高亮显示为翡翠绿。
- [ ] 切换过程中无闪烁或明显的逻辑延迟。
