# C-2: 全局 TabBar 配置 - T6 变更清单

## 6.1 新建文件

- `fit_cycle_web/src/stores/navigation.ts`: 
    - 新增导航状态管理 Store。
    - 统一管理全局选中的 Tab 索引，解决自定义 TabBar 在页面切换时的状态同步问题。
- `fit_cycle_web/src/custom-tab-bar/index.vue`:
    - 实现了高保真的自定义 TabBar 组件。
    - 包含记录、计划、食材、我的四个核心入口。
    - 视觉效果：白色 80% 透明背景、`backdrop-blur-xl` 毛玻璃特效、翡翠绿激活态。
    - 图标：使用精美的内联 SVG 矢量图标。

## 6.2 修改文件

- `fit_cycle_web/src/app.config.ts`:
    - 开启了 `tabBar.custom: true` 配置。
    - 注册了四个 Tab 页面的路径，确保原生路由系统识别。
- `fit_cycle_web/src/pages/index/index.vue`:
- `fit_cycle_web/src/pages/plan/index.vue`:
- `fit_cycle_web/src/pages/food/index.vue`:
- `fit_cycle_web/src/pages/profile/index.vue`:
    - 在以上页面的 `useDidShow` 钩子中添加了 `navStore.setActiveTab(index)` 逻辑，确保底部导航状态与实际页面实时对齐。

## 6.3 完整性检查结果

### 【导航逻辑检查】
- [x] `Taro.switchTab` 是否已正确应用？
- [x] Tab 索引是否在各页面同步？ (通过 Pinia Store 解决)

### 【视觉还原检查】
- [x] 毛玻璃效果是否生效？ (已在 SCSS 定义)
- [x] 图标颜色是否正确切换？ (已绑定 `activeTab`)

### 【构建验证】
- [x] `npm run build:weapp` 成功。
