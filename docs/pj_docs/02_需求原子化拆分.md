# 02_éœ€æ±‚åŸå­åŒ–æ‹†åˆ†

> **è¯´æ˜**: æœ¬æ–‡æ¡£å°†ç³»ç»Ÿéœ€æ±‚æ‹†è§£ä¸ºå¯ç‹¬ç«‹æ‰§è¡Œçš„åŸå­å¼€å‘ä»»åŠ¡ã€‚
> **ä¼˜å…ˆçº§å®šä¹‰**: P0 (MVPæ ¸å¿ƒé˜»æ–­æ€§åŠŸèƒ½), P1 (é‡è¦åŠŸèƒ½), P2 (ä½“éªŒä¼˜åŒ–/éæ ¸å¿ƒ)ã€‚

## 0. ç³»ç»Ÿä¸åŸºç¡€ (System & Infrastructure) - 3 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **S-1** | æ•°æ®åº“åˆå§‹åŒ– | åç«¯ | Infra | **P0** | - | é…ç½® MySQL/Redis è¿æ¥ï¼Œè®¾ç½® TypeORM å…¨å±€é…ç½®åŠè¿ç§»è„šæœ¬ã€‚ |
| **S-2** | å…¨å±€æ‹¦æˆªå™¨ | åç«¯ | Infra | **P0** | - | å®ç°ç»Ÿä¸€å“åº”æ ¼å¼ (`code`, `data`, `msg`) åŠå…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨ã€‚ |
| **S-3** | å‰ç«¯åŸºç¡€æ¶æ„ | å‰ç«¯ | Infra | **P0** | - | åˆå§‹åŒ– Pinia Storeï¼Œå°è£… Axios è¯·æ±‚æ‹¦æˆªå™¨ï¼ˆTokenæ³¨å…¥/é”™è¯¯å¤„ç†ï¼‰ã€‚ |

## 1. ç”¨æˆ·åŸŸ (User Domain) - 9 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **U-1** | å¾®ä¿¡ç™»å½•æ¥å£ | åç«¯ | API | **P0** | - | å®ç° `auth/login` æ¥å£ï¼Œå¯¹æ¥å¾®ä¿¡ Sessionï¼Œå‘æ”¾ JWTã€‚ |
| **U-2** | è®¤è¯æœåŠ¡å°è£… | å‰ç«¯ | Service | **P0** | U-1 | å°è£… `wx.login`ï¼Œè‡ªåŠ¨å¤„ç† Token å­˜å‚¨ä¸æ‹¦æˆªå™¨æ³¨å…¥ã€‚ |
| **U-3** | ç™»å½•é¡µé¢ UI | å‰ç«¯ | Page | **P0** | U-2 | å®ç°ç™»å½•é¡µå¸ƒå±€ã€æˆæƒæŒ‰é’®äº¤äº’åŠéšç§åè®®å¼¹çª—ã€‚ |
| **U-4** | ç”¨æˆ·ä¿¡æ¯æ¥å£ | åç«¯ | API | **P0** | U-1 | `user/profile` çš„ GET/PUT æ¥å£ï¼Œæ”¯æŒæ›´æ–°åŸºæœ¬ä¿¡æ¯ã€‚ |
| **U-5** | ä¸ªäººä¸­å¿ƒé¡µ UI | å‰ç«¯ | Page | **P0** | U-4 | å±•ç¤ºå¤´åƒã€æ˜µç§°ã€åšæŒå¤©æ•°ï¼Œæä¾›åŠŸèƒ½å…¥å£ã€‚ |
| **U-6** | BMR è®¡ç®—é€»è¾‘ | åç«¯ | Logic | **P1** | - | å°è£… Mifflin-St Jeor å…¬å¼è®¡ç®—æœåŠ¡ã€‚ |
| **U-7** | å¥åº·æ¡£æ¡ˆæ¥å£ | åç«¯ | API | **P1** | U-6 | å­˜å‚¨ç”¨æˆ·çš„èº«é«˜ã€ä½“é‡ã€æ´»åŠ¨ç³»æ•°ï¼Œè¿”å›è®¡ç®—ç»“æœã€‚ |
| **U-8** | å¥åº·å·¥å…· UI | å‰ç«¯ | Comp | **P1** | U-7 | BMR è®¡ç®—å™¨å¼¹çª—åŠç»“æœå±•ç¤ºç»„ä»¶ã€‚ |
| **U-9** | User å®ä½“å®šä¹‰ | åç«¯ | DB | **P0** | - | å®šä¹‰ User ä¸ HealthProfile çš„ TypeORM å®ä½“ã€‚ |
| **U-10** | ä½“é‡è®°å½•æ¥å£ | åç«¯ | API | **P1** | U-9 | å®ç°ä½“é‡çš„å¢åˆ æ”¹æŸ¥åŠå†å²è¶‹åŠ¿æŸ¥è¯¢æ¥å£ã€‚ |
| **U-11** | ä½“é‡ç®¡ç† UI | å‰ç«¯ | Page | **P1** | U-10 | ä¸ªäººä¸­å¿ƒçš„ä½“é‡è®°å½•å¼¹çª—åŠ ECharts è¶‹åŠ¿å›¾ã€‚ |
| **U-12** | è¥å…»æŒ‡å—é¡µé¢ | å‰ç«¯ | Page | **P2** | - | å®ç°ä¸ªäººä¸­å¿ƒå†…çš„é™æ€è¥å…»çŸ¥è¯†æŒ‡å—é¡µé¢ã€‚ |

## 2. é£ŸæåŸŸ (Food Domain) - 8 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **F-1** | ç³»ç»Ÿé£Ÿæå¯¼å…¥ | åç«¯ | Script | **P0** | - | ç¼–å†™è„šæœ¬å°†åŸºç¡€é£Ÿæåº“ï¼ˆJSONï¼‰å¯¼å…¥ MySQLã€‚ |
| **F-2** | é£Ÿææœç´¢æ¥å£ | åç«¯ | API | **P0** | F-1 | `food/search` æ¥å£ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ä¸åˆ†ç±»ç­›é€‰ã€‚ |
| **F-3** | é£Ÿæè¯¦æƒ…æ¥å£ | åç«¯ | API | **P0** | F-1 | `food/:id` æ¥å£ï¼Œè¿”å›è¯¦ç»†è¥å…»ç´ ã€‚ |
| **F-4** | Food å®ä½“å®šä¹‰ | åç«¯ | DB | **P0** | - | å®šä¹‰ FoodItem å®ä½“ï¼ŒåŒºåˆ†ç³»ç»Ÿ/è‡ªå®šä¹‰ç±»å‹ã€‚ |
| **F-5** | è‡ªå®šä¹‰é£Ÿæ API | åç«¯ | API | **P1** | F-4 | `food/custom` çš„ POST/DELETE æ¥å£ã€‚ |
| **F-6** | é£Ÿæåº“é¡µé¢ UI | å‰ç«¯ | Page | **P1** | F-2 | å®ç°åˆ†ç±» Tabã€çƒ­é—¨æ¨èåŠåˆ—è¡¨æ¸²æŸ“ã€‚ |
| **F-7** | é£Ÿææœç´¢ç»„ä»¶ | å‰ç«¯ | Comp | **P0** | F-2 | å°è£…å¯å¤ç”¨çš„é£Ÿææœç´¢ä¸‹æ‹‰/å¼¹çª—ç»„ä»¶ã€‚ |
| **F-8** | åˆ›å»ºé£Ÿæ UI | å‰ç«¯ | Page | **P1** | F-5 | è‡ªå®šä¹‰é£Ÿæçš„è¡¨å•é¡µé¢ã€‚ |
| **F-9** | é£Ÿææ”¶è—æ¥å£ | åç«¯ | API | **P1** | F-4 | å®ç°é£Ÿæçš„æ”¶è—ä¸å–æ¶ˆæ”¶è—åŠŸèƒ½ã€‚ |
| **F-10** | çƒ­é—¨é£Ÿææ¥å£ | åç«¯ | API | **P1** | F-1 | å®ç° `food/popular` æ¥å£ï¼Œè¿”å›ç³»ç»Ÿæ¨èæˆ–é«˜é¢‘é£Ÿæã€‚ |

## 3. è®¡åˆ’åŸŸ (Plan Domain) - 18 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **P-1** | Plan å®ä½“è®¾è®¡ | åç«¯ | DB | **P0** | - | å®šä¹‰ DietPlan, Cycle, PlanTemplate å®ä½“åŠå…³è”ã€‚ |
| **P-2** | è®¡åˆ’ CRUD æ¥å£ | åç«¯ | API | **P0** | P-1 | è®¡åˆ’çš„åŸºç¡€å¢åˆ æ”¹æŸ¥æ¥å£ã€‚ |
| **P-3** | æ¨¡æ¿ç®¡ç†æ¥å£ | åç«¯ | API | **P0** | P-1 | æ—¥æ¨¡æ¿çš„é…ç½®æ¥å£ï¼ˆå«é¤å•å…³è”ï¼‰ã€‚ |
| **P-4** | è®¡åˆ’çŠ¶æ€ç®¡ç† | åç«¯ | Logic | **P0** | P-2 | å¤„ç†æ¿€æ´»/æš‚åœé€»è¾‘ï¼Œç¡®ä¿å•ä¸€æ¿€æ´»åŸåˆ™ã€‚ |
| **P-5** | è®¡åˆ’åˆ—è¡¨ UI | å‰ç«¯ | Page | **P0** | P-2 | å±•ç¤ºè¿›è¡Œä¸­/å†å²è®¡åˆ’ã€æ¨èè®¡åˆ’åˆ—è¡¨ï¼Œä»¥åŠåˆ›å»º/å¯¼å…¥å…¥å£å¼¹çª—ã€‚ |
| **P-6** | åˆ›å»ºå‘å¯¼ Step 1 - åŸºç¡€è®¾ç½® | å‰ç«¯ | Page | **P0** | P-2 | å®ç°è®¡åˆ’åç§°ã€ç±»å‹é€‰æ‹©åŠå‘¨æœŸå¤©æ•°/å‘¨æœŸæ•°è®¾ç½®ï¼ˆå¯¹åº” `new-plan.html`ï¼‰ã€‚ |
| **P-7** | ç¢³å¾ªç¯æ ¸å¿ƒç®—æ³• | å‰ç«¯ | Logic | **P1** | - | å®ç°åŸºäºä½“é‡ã€æ¯”ä¾‹åŠé˜¶æ®µç³»æ•°åˆ†é…æ€»è¥å…»ç´ çš„è®¡ç®—é€»è¾‘ï¼ˆå¯¹åº” `carb-cycle-setup.html` ç®—æ³•ï¼‰ã€‚ |
| **P-8** | åˆ›å»ºå‘å¯¼ Step 1.5 - ç¢³å¾ªç¯é…ç½® | å‰ç«¯ | Page | **P1** | P-7 | ç¢³å¾ªç¯æµç¨‹ï¼šå®ç°ä½“é‡ã€æ¯”ä¾‹åŠé«˜/ä¸­/ä½ç¢³é˜¶æ®µå¤©æ•°ä¸ç³»æ•°é…ç½®é¡µã€‚ |
| **P-17** | åˆ›å»ºå‘å¯¼ Step 1.5 - å¸¸è§„ç›®æ ‡åˆå§‹åŒ– | å‰ç«¯ | Page | **P1** | P-6 | å¸¸è§„æµç¨‹ï¼šå®ç°â€œç›®æ ‡æ¨¡å¼â€åˆ‡æ¢ï¼ˆç»Ÿä¸€/ç‹¬ç«‹ï¼‰åŠæ‰¹é‡ç›®æ ‡è¾“å…¥é¡µï¼ˆå¯¹åº” `plan-creator.html` Step 2ï¼‰ã€‚ |
| **P-16** | åˆ›å»ºå‘å¯¼ Step 2 - å‘¨æœŸåˆ—è¡¨å±•ç¤º | å‰ç«¯ | Page | **P0** | P-6 | å±•ç¤ºæ¯æ—¥åˆ—è¡¨ã€‚ç¢³å¾ªç¯éœ€æ˜¾ç¤ºé˜¶æ®µæ ‡è¯†ï¼ˆğŸ”¥/âš–ï¸/â„ï¸ï¼‰åŠè®¡ç®—å‡ºçš„ç›®æ ‡ã€‚ |
| **P-18** | åˆ—è¡¨ç®¡ç†äº¤äº’ - æ’åº/å¤åˆ¶/åˆ é™¤ | å‰ç«¯ | Feature | **P1** | P-16 | å®ç°æ¨¡æ¿å¡ç‰‡çš„æ‹–æ‹½æ’åºã€å…‹éš†åŠåˆ é™¤ã€‚**ç»†èŠ‚**ï¼šç¢³å¾ªç¯ä¸‹ï¼Œé˜¶æ®µæ ‡è¯†ï¼ˆğŸ”¥/âš–ï¸/â„ï¸ï¼‰éšç´¢å¼•å›ºå®šï¼Œå†…å®¹ç§»åŠ¨éœ€è‡ªåŠ¨é€‚é…æ§½ä½ç›®æ ‡ï¼›å¢å‡å¤©æ•°éœ€è§¦å‘å‘¨æœŸæ€»é‡é‡ç®—æé†’ã€‚ |
| **P-9** | åˆ›å»ºå‘å¯¼ Step 3 - æ—¥æ¨¡æ¿ç¼–è¾‘ | å‰ç«¯ | Page | **P0** | P-3, P-16 | å®ç°æ—¥æ¨¡æ¿é…ç½®é¡µã€‚**ç»†èŠ‚**ï¼šåç§°é™6å­—ï¼›å¸¸è§„æ¨¡å¼é¤æ¬¡å›ºå®šï¼Œç¢³å¾ªç¯æ¨¡å¼æ”¯æŒè‡ªå®šä¹‰å¢åˆ é¤æ¬¡ï¼›è¥å…»è¿›åº¦æ¡éœ€å®æ—¶å¯¹æ¯”â€œå½“å‰å·²é€‰é£Ÿç‰©æ€»å’Œâ€ä¸â€œå½“æ—¥ç›®æ ‡â€ã€‚ |
| **P-19** | é£Ÿç‰©é€‰æ‹©ä¸é…ç½®ç»„ä»¶ | å‰ç«¯ | Comp | **P0** | F-7 | å°è£…å¸¦æœç´¢ã€åˆ†ç±»ç­›é€‰åŠé‡é‡è¾“å…¥çš„é£Ÿç‰©æ·»åŠ å¼¹çª—ï¼ˆå¯¹åº” `meal-config.html`ï¼‰ã€‚ |
| **P-10** | ä¸€é”®è¡¥æ»¡é€»è¾‘ | åç«¯ | Logic | **P1** | P-3 | åç«¯å®ç°é€šè¿‡å°‘é‡æ¨¡æ¿ç”Ÿæˆå®Œæ•´å‘¨æœŸçš„é€»è¾‘ã€‚ |
| **P-11** | æ¨èè®¡åˆ’ç§å­ | åç«¯ | Data | **P1** | - | é¢„è®¾ 3 ä¸ªå®˜æ–¹æ¨èè®¡åˆ’æ•°æ®ï¼ˆå‡è„‚/å¢è‚Œ/å‡è¡¡ï¼‰ã€‚ |
| **P-12** | æ¨èè®¡åˆ’ API | åç«¯ | API | **P1** | P-11 | è·å–æ¨èè®¡åˆ’åˆ—è¡¨åŠè¯¦æƒ…ã€‚ |
| **P-13** | è®¡åˆ’è¯¦æƒ…é¡µ UI | å‰ç«¯ | Page | **P1** | P-5 | å±•ç¤ºè®¡åˆ’æ¦‚è§ˆåŠæ¯æ—¥å®‰æ’è§†å›¾ã€‚ |
| **P-14** | è®¡åˆ’åˆ†äº«ä¸å¯¼å…¥ | åŒç«¯ | Feature | **P2** | - | åˆ†äº«ç ç”Ÿæˆ APIï¼Œä»¥åŠå‰ç«¯å¯¼å…¥å¼¹çª—ä¸å¯¹æ¥é€»è¾‘ã€‚ |

## 4. è®°å½•åŸŸ (Record Domain) - 8 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **R-1** | Record å®ä½“è®¾è®¡| åç«¯ | DB | **P0** | - | å®šä¹‰ DailyRecord åŠ MealLog å®ä½“ã€‚ |
| **R-2** | æ¯æ—¥è®°å½•æ¥å£ | åç«¯ | API | **P0** | R-1 | è·å–/åˆ›å»ºæŒ‡å®šæ—¥æœŸçš„è®°å½•ã€‚ |
| **R-3** | é¤æ¬¡æ“ä½œæ¥å£ | åç«¯ | API | **P0** | R-1 | å‘æŒ‡å®šé¤æ¬¡æ·»åŠ /åˆ é™¤/æ›´æ–°é£Ÿç‰©ã€‚ |
| **R-4** | é¦–é¡µä»ªè¡¨ç›˜ UI | å‰ç«¯ | Page | **P0** | R-2 | é¦–é¡µæ¡†æ¶ï¼Œæ—¥æœŸå¯¼èˆªï¼Œç›®æ ‡è¿›åº¦æ¡ã€‚ |
| **R-5** | é¤æ¬¡å¡ç‰‡ç»„ä»¶ | å‰ç«¯ | Comp | **P0** | R-3 | å±•ç¤ºå•é¤é£Ÿç‰©åˆ—è¡¨ï¼Œæä¾›æ·»åŠ /ç¼–è¾‘å…¥å£ã€‚ |
| **R-6** | å¿«æ·æ·»åŠ é€»è¾‘ | åç«¯ | Logic | **P1** | P-3 | "æŒ‰è®¡åˆ’è®°å½•"çš„åç«¯å®ç°ï¼šä» Template å¤åˆ¶åˆ° Recordã€‚ |
| **R-7** | æ•°é‡é”®ç›˜ç»„ä»¶ | å‰ç«¯ | Comp | **P0** | - | ä¸“ç”¨çš„æ•°å­—è¾“å…¥é”®ç›˜ï¼Œæ”¯æŒå•ä½åˆ‡æ¢ã€‚ |
| **R-8** | è¥å…»ç»Ÿè®¡è®¡ç®— | å‰ç«¯ | Logic | **P0** | - | å‰ç«¯å®æ—¶è®¡ç®—ä»Šæ—¥å·²æ‘„å…¥æ€»é‡ã€‚ |

## 5. åˆ†æåŸŸ (Analysis Domain) - 4 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **A-1** | å‘¨ç»Ÿè®¡æ¥å£ | åç«¯ | API | **P1** | R-1 | å®ç° `/analysis/weekly` æ¥å£ï¼ŒèšåˆæŸ¥è¯¢è¿‡å» 7 å¤©çš„æ‘„å…¥æ•°æ®ã€‚ |
| **A-2** | è¶‹åŠ¿å›¾è¡¨ç»„ä»¶ | å‰ç«¯ | Comp | **P1** | A-1 | ä½¿ç”¨ ECharts å°è£…çƒ­é‡/ä½“é‡è¶‹åŠ¿å›¾ã€‚ |
| **A-3** | è¾¾æ ‡ç‡åˆ†æ | åç«¯ | Logic | **P2** | A-1 | è®¡ç®—è®¡åˆ’æ‰§è¡Œçš„è¾¾æ ‡å¤©æ•°æ¯”ä¾‹ã€‚ |
| **A-4** | æ•°æ®å¯¼å‡ºåŠŸèƒ½ | å‰ç«¯ | Feature| **P2** | - | å¯¼å‡ºè®°å½•ä¸ºå›¾ç‰‡æˆ– Excelï¼ˆéœ€åç«¯æ”¯æŒï¼‰ã€‚ |

## 6. é›†æˆè”è°ƒ (Integration & QA) - 3 Tasks

| ID | ä»»åŠ¡åç§° | ç«¯ | ç±»å‹ | P | ä¾èµ– | æè¿° |
|:---|:---|:---|:---|:---|:---|:---|
| **I-1** | ç”¨æˆ·åŸŸè”è°ƒ | åŒç«¯ | Test | **P0** | U-3, U-5 | éªŒè¯ ç™»å½• -> è·å–Token -> è·å–/æ›´æ–°ç”¨æˆ·ä¿¡æ¯ çš„å®Œæ•´é“¾è·¯ã€‚ |
| **I-2** | è®¡åˆ’åŸŸè”è°ƒ | åŒç«¯ | Test | **P0** | P-5, P-9 | éªŒè¯ è®¡åˆ’åˆ›å»º -> æ¨¡æ¿é…ç½® -> æ¿€æ´»è®¡åˆ’ -> é¦–é¡µå±•ç¤º çš„å®Œæ•´é“¾è·¯ã€‚ |
| **I-3** | æ ¸å¿ƒä¸šåŠ¡é—­ç¯ | åŒç«¯ | Test | **P0** | R-4, A-1 | éªŒè¯ é¦–é¡µè®°å½•é¤é£Ÿ -> æ•°æ®ç»Ÿè®¡æ›´æ–° -> ä¸ªäººä¸­å¿ƒæŠ¥è¡¨ çš„æ•°æ®æµè½¬ã€‚ |

---

## ç»Ÿè®¡æ€»ç»“
- **Total Tasks**: 58
- **P0 Tasks**: 33
- **P1 Tasks**: 21
- **P2 Tasks**: 4
